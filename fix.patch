--- a/src/routes/admin.js
+++ b/src/routes/admin.js
@@ -257,12 +257,10 @@ router.post('/products/new', requireAdmin, upload.single('image'), async (req, re
     const name = String(req.body.name || '').trim();
     const description = String(req.body.description || '').trim();
     let image_url = req.file ? `/static/uploads/${req.file.filename}` : null;
     if (!image_url) {
       const fallbackUrl = String(req.body.image_url || '').trim();
       image_url = fallbackUrl || null;
     }
-    const image_url = req.file ? `/static/uploads/${req.file.filename}` : null;
-    const image_url = String(req.body.image_url || '').trim();
     const priceYuan = Number(req.body.price_yuan || 0);
     const is_active = req.body.is_active === 'on';
 
@@ -296,13 +294,13 @@ router.post('/products/:id/edit', requireAdmin, upload.single('image'), async (r
     const description = String(req.body.description || '').trim();
     const existing = await adminGetProduct(productId);
     if (!existing) return res.status(404).send('Not found');
     let image_url = existing.image_url;
     if (req.file) {
       image_url = `/static/uploads/${req.file.filename}`;
+    } else {
+      const fallbackUrl = String(req.body.image_url || '').trim();
+      if (fallbackUrl) image_url = fallbackUrl;
     }
-    const image_url = req.file ? `/static/uploads/${req.file.filename}` : existing.image_url;
-    const image_url = String(req.body.image_url || '').trim();
     const priceYuan = Number(req.body.price_yuan || 0);
     const is_active = req.body.is_active === 'on';
